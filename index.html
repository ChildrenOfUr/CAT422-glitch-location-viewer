<html>
<head>
    <title>Location test</title>
    <link rel="stylesheet" type="text/css" href="css/main.css?v=0.8.0" />
</head>
<body>

    <div class="stage_holder">
        <div class="stage">
        </div>
    </div>

    <div class="location">
    </div>

    <div class="loading_holder">
        <div class="loading">
            Loading...
            <div class="percent_holder">
                <div class="percent">
                </div>
            </div>
        </div>
    </div>

    <div class="exits">
    </div>

    <div class="debug">
    </div>

    <div class="offScreenBuffer">
    </div>

    <div class="instructions">
        <p>
            WASD or cursor keys to move.
        </p>
        <p>
            "Walking" is currently a proof of concept, "platforms", gravity and jumping coming soon.
        </p>
        <p>
            Next on the TODO list is multi-user chat (which will appear here).
        </p>
        <p>
            <a href="http://revdancatt.com/2013/11/26/slowly-bringing-glitch-back-to-life/">Blogpost/About</a><br />
            <a href="https://github.com/revdancatt/CAT422-glitch-location-viewer">Source code on GitHub</a><br />
            <a href="https://twitter.com/revdancatt">Twitter @revdancatt</a>
        </p>
        <p>
            * * *
        </p>
        <p>
            Things <strong>WILL</strong> break, hitting reload will sometimes help.
        </p>
        <p>
            Chrome YES, Firefox MAYBE,<br />
            Safari SLOW. IE??? Pfff.
        </p>
    </div>

    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/control.js?v=0.8.0"></script>
    <script src="js/player.js?v=0.8.0"></script>
    <script src="http://glitch-backend.revdancatt.com:8888/socket.io/socket.io.js"></script>
    <script>
        var socket = io.connect('http://glitch-backend.revdancatt.com:8888', {
            'reconnect': true,
            'reconnection delay': 500,
            'max reconnection attempts': 50
        });
        $(document).ready(function() {
            var startRoom = 'GLIERMJ93DE1H25';
            //  Really poor way of doing URL stuff, but what the heck
            try {
                startRoom = document.location.hash.split('/')[1].replace('L','G');
            } catch(er) {
                //  Nowt!
            }
            control.init(startRoom);
        });
    </script>
</body>
</html>